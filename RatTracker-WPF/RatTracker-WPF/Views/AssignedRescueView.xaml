<UserControl x:Class="RatTracker_WPF.Views.AssignedRescueView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:viewModels="clr-namespace:RatTracker_WPF.ViewModels"
             xmlns:controls="clr-namespace:RatTracker_WPF.Infrastructure.Controls"
             xmlns:app="clr-namespace:RatTracker_WPF.Models.App"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="300"
             d:DataContext="{d:DesignInstance viewModels:AssignedRescueViewModel}">
  <GroupBox Header="Assigned Rescue" Foreground="{DynamicResource brushEliteOrange}">
    <StackPanel Grid.IsSharedSizeScope="True">
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" SharedSizeGroup="Col1" />
          <ColumnDefinition Width="*"  />
          <ColumnDefinition Width="Auto" SharedSizeGroup="Col3" />
        </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0" Text="Client:" Margin="0,0,5,0" />
        <TextBox Grid.Column="1" Text="{Binding ClientName}" Margin="0,0,5,0"/>
        <Button Grid.Column="2" Content="Set" Click="SetClientNameOnClick" />
      </Grid>

      <Grid >
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" SharedSizeGroup="Col1" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" SharedSizeGroup="Col2" />
        </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0" Text="System:" Margin="0,0,5,0" />
        <TextBox Grid.Column="1" Text="{Binding SystemName}" Margin="0,0,5,0"/>
        <Button Grid.Column="2" Content="Set" Click="SetSystemNameOnClick" />
      </Grid>
      
      <controls:RatStateControl ViewModel="{Binding}" State="{Binding Self}" />
      <ListView ItemsSource="{Binding Rats}" >
        <ListView.ItemTemplate>
          <DataTemplate DataType="{x:Type app:RatState}">
            <controls:RatStateControl ViewModel="{Binding DataContext, RelativeSource={RelativeSource FindAncestor, AncestorType=UserControl}}" State="{Binding}" />
          </DataTemplate>
        </ListView.ItemTemplate>
      </ListView>
    </StackPanel>
  </GroupBox>
</UserControl>